<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="org.css">
    <style>

    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
        //node
        function orgtoggle(e) {
            e.nextAll().toggle();
        }

        function add_no_plus_switch(e) {
            var str_no_plus_switch = "<li>";
            str_no_plus_switch += "<a href='#' href='#' class='no_plus_switch'>";
            str_no_plus_switch += "<div class='row'></div>";
            str_no_plus_switch += "</a>";
            str_no_plus_switch += "</li>";
            e.next().append(str_no_plus_switch);
        }

        function first_Orgchart(e) {
            $('#tree').append(
                $('<ul/>')
                .append(
                    $('<li/>').append(
                        $('<ul/>')
                        .attr('id',e)
                    )                                 
                )                
            );
        }

        function second_Orgchart(e1, e2) {
            $('#' + e1).append(
                $('<li/>')                
                .append(
                    $('<ul/>') 
                    .attr('id', e2)
                )                
            );
        }

        function Info_Insert(e) {
            $('#'+ e).parent().prepend(
                $('<a/>')
                .attr('href', '#')
            );
        }

        function add_first_element(e) {
            $('#tree').append(
                $('<ul/>')
                .append(
                    $('<li/>')
                    .attr('id', e)
                    .append(
                        $('<a/>')
                        .addClass('switch')
                        .attr('href', '#')
                    )
                    //                    .append(
                    //                        $('<ul/>')
                    //                    )
                )
            );
        }

        function add_child_element(e1, e2) {
            $('#' + e1).append(
                $('<ul/>')
                .append(
                    $('<li/>')
                    .attr('id', e2)
                    .append(
                        $('<a/>')
                        .addClass('no_plus_switch')
                        .attr('href', '#')
                    )
                )
            );            
        }
        //show number= 01,02,...,09,10
        function NumFormat(e) {
            var num;
            if (e < 10 && e >= 0) {
                num = '0' + e;
            } else if (e > 10) {
                num = e;
            } else {
                alert('function NumFormat has some problem!!');
            }
            return num;
        }

        $(document).ready(function () {
            var click_this;
            var rowCount;
            var count = 0;            
            var table = [{
                id: '00',
                name:''
            }, {
                id: '01',
                name:''
            }, {
                id: '02',
                name:''
            }, {
                id: '00-00',
                name:''
            }, {
                id: '00-01',
                name:''
            }, {
                id: '00-00-00',
                name:''
            }, {
                id: '00-00-01',
                name:''
            }, {
                id: '00-00-00-00',
                name:''
            }, {
                id: '00-00-00-00-00',
                name:''
            }, {
                id: '00-00-00-00-01',
                name:''
            }];


            $('a').on('click', function (e) {
                click_this = $(this);
                orgtoggle(click_this);
            });

            rowCount = table.length;

            var numarray = [];
            var getInfo = [];

            for (var i = 0; i < 10; i++) {
                numarray[i] = 0;
                getInfo[i] = [];                
            }

            for (var i = 0; i < rowCount; i++) {
                var tablecount = table[i]['id'].split('-').length;

                if (tablecount >= count) {
                    count = tablecount;
                }

                switch (tablecount) {
                case 1:                    
                    getInfo[0][numarray[0]] = table[i]['id'];                    
                    numarray[0]++;                    
                    break;
                case 2:
                    getInfo[1][numarray[1]] = table[i]['id']; 
                    numarray[1]++;                        
                    break;
                case 3:
                    getInfo[2][numarray[2]] = table[i]['id']; 
                    numarray[2]++;
                    break;
                case 4:
                    getInfo[3][numarray[3]] = table[i]['id']; 
                    numarray[3]++;
                    break;
                case 5:
                    getInfo[4][numarray[4]] = table[i]['id']; 
                    numarray[4]++;
                    break;
                case 6:
                    getInfo[5][numarray[5]] = table[i]['id'];
                    numarray[5]++;
                    break;
                case 7:
                    getInfo[6][numarray[6]] = table[i]['id'];
                    numarray[6]++;
                    break;
                case 8:
                    getInfo[7][numarray[7]] = table[i]['id'];
                    numarray[7]++;
                    break;
                case 9:
                    getInfo[8][numarray[8]] = table[i]['id'];
                    numarray[8]++;
                    break;
                case 10:
                    getInfo[9][numarray[9]] = table[i]['id'];
                    numarray[9]++;
                    break;
                default:
                    alert('Your hierarchy is more than 10!!');
                }
            }           
            
            for(var i = 0; i < getInfo[0].length; i++){
                first_Orgchart(getInfo[0][i]);
            }
           
            for(var i= 1; i < 10; i++){
                if(getInfo[i].length > 0){                
                    for(var j = 0; j < getInfo[i].length; j++){
                        var array = getInfo[i][j].split('-');
                        var remove = array.pop();                        
                        second_Orgchart(array.join('-'),getInfo[i][j]);  
//                        console.log(getInfo[i][j]);
//                        console.log(array.join('-'));
                    }
                }
            }
//            
//            
//           
            
            for(var i = 0; i < table.length; i++){
                Info_Insert(table[i]['id']);
            }
//            Info_Insert('00');
//            Info_Insert('01');            
//            Info_Insert('00-00');            
//            Info_Insert('00-01');
//            Info_Insert('00-00-00');  
            
            
            var str = $('#00').parent();
                
            console.log(str);
        });
    </script>
</head>

<body>
    <div id="tree">

<!--
        <ul id="00">
            <li>
                <a href=""></a>
                <ul id="00">
                    <li>
                        <a href=""></a>
                        <ul id="00-00">
                            <li>
                                <a href=""></a>
                            </li>
                            <li>
                                <a href=""></a>
                            </li>                    
                        </ul>   
                    </li>
                    <li>
                        <a href=""></a>
                    </li>                    
                </ul>                
            </li>
        </ul>
        <ul id="01">
            <li>
                <a href=""></a>
                <ul id="01-00">
                    <li>
                        <a href=""></a>
                        <ul id="01-01-00">
                            <li>
                                <a href=""></a>
                            </li>
                            <li>
                                <a href=""></a>
                            </li>                    
                        </ul> 
                    </li>
                    <li>
                        <a href=""></a>
                    </li>                    
                </ul>                
            </li>
        </ul>
-->

    </div>
</body>

</html>